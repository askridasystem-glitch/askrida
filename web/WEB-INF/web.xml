<!DOCTYPE web-app PUBLIC "-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN" "http://java.sun.com/dtd/web-app_2_3.dtd">
<web-app>
   <distributable/>
   <!-- Servlet Filter -->
   <!--<filter>
      <filter-name>AccessControlFilter</filter-name>
      <filter-class>acc.common.controller.AccessControlFilter</filter-class>
   </filter>
   <filter-mapping>
      <filter-name>AccessControlFilter</filter-name>
      <url-pattern>*.ctl</url-pattern>
   </filter-mapping>
   <filter-mapping>
      <filter-name>AccessControlFilter</filter-name>
      <url-pattern>*.list</url-pattern>
   </filter-mapping>
   <filter-mapping>
      <filter-name>AccessControlFilter</filter-name>
      <url-pattern>*.screen</url-pattern>
   </filter-mapping>-->

   <!--=============== Controller Servlet ==========================================-->


   <filter>
      <filter-name>Profiler</filter-name>
      <filter-class>com.crux.common.filter.ProfilingFilter</filter-class>
   </filter>

   <filter>
      <filter-name>Language</filter-name>
      <filter-class>com.crux.common.filter.LanguageFilter</filter-class>
   </filter>

   <filter>
      <filter-name>FOP</filter-name>
      <filter-class>com.crux.common.filter.FOPFilter</filter-class>
   </filter>

   <!--filter>
      <filter-name>AccessFilter</filter-name>
      <filter-class>com.crux.common.filter.AccessFilter</filter-class>
   </filter-->

   <filter>
      <filter-name>Compress</filter-name>
      <filter-class>com.crux.common.filter.GZIPFilter</filter-class>
   </filter>

   <filter>
      <filter-name>crux</filter-name>
      <filter-class>com.crux.web.controller.CruxController</filter-class>
      <init-param>
         <param-name>application</param-name>
         <param-value>com.webfin.WebFin</param-value>
      </init-param>
   </filter>

   <filter-mapping>
      <filter-name>Profiler</filter-name>
      <url-pattern>/*</url-pattern>
   </filter-mapping>

   <!--filter-mapping>
      <filter-name>AccessFilter</filter-name>
      <url-pattern>/*</url-pattern>
   </filter-mapping-->

   <filter-mapping>
      <filter-name>FOP</filter-name>
      <url-pattern>*.fop</url-pattern>
   </filter-mapping>

   <!--<filter-mapping>
      <filter-name>FOP</filter-name>
      <url-pattern>*.fop.*</url-pattern>
   </filter-mapping>-->

   <filter-mapping>
      <filter-name>Compress</filter-name>
      <url-pattern>*.jsp</url-pattern>
   </filter-mapping>

   <filter-mapping>
      <filter-name>Compress</filter-name>
      <url-pattern>*.htm</url-pattern>
   </filter-mapping>
   
   <filter-mapping>
      <filter-name>Compress</filter-name>
      <url-pattern>*.chm</url-pattern>
   </filter-mapping>

   <filter-mapping>
      <filter-name>Compress</filter-name>
      <url-pattern>*.html</url-pattern>
   </filter-mapping>

   <filter-mapping>
      <filter-name>Compress</filter-name>
      <url-pattern>*.lov</url-pattern>
   </filter-mapping>

   <filter-mapping>
      <filter-name>Compress</filter-name>
      <url-pattern>*.crux</url-pattern>
   </filter-mapping>

   <filter-mapping>
      <filter-name>Compress</filter-name>
      <url-pattern>*.ctl</url-pattern>
   </filter-mapping>

   <filter-mapping>
      <filter-name>Compress</filter-name>
      <url-pattern>*.js</url-pattern>
   </filter-mapping>

   <filter-mapping>
      <filter-name>Compress</filter-name>
      <url-pattern>*.css</url-pattern>
   </filter-mapping>

   <filter-mapping>
      <filter-name>Compress</filter-name>
      <url-pattern>*.crux</url-pattern>
   </filter-mapping>
   
   <filter-mapping>
      <filter-name>Compress</filter-name>
      <url-pattern>*.pdf</url-pattern>
   </filter-mapping>

   <filter-mapping>
        <filter-name>Language</filter-name>
        <url-pattern>*.ctl</url-pattern>
     </filter-mapping>

     <filter-mapping>
        <filter-name>Language</filter-name>
        <url-pattern>*.jsp</url-pattern>
     </filter-mapping>

     <filter-mapping>
        <filter-name>Language</filter-name>
        <url-pattern>*.crux</url-pattern>
     </filter-mapping>

   <filter-mapping>
        <filter-name>Language</filter-name>
        <url-pattern>*.fop</url-pattern>
     </filter-mapping>


   <filter-mapping>
      <filter-name>crux</filter-name>
      <url-pattern>/*</url-pattern>
   </filter-mapping>
   
   <listener>
      <listener-class>
         com.crux.common.controller.SessionKeeper
      </listener-class>
   </listener>

   <!--<servlet>
      <servlet-name>AxisServlet</servlet-name>
      <display-name>Apache-Axis Servlet</display-name>
      <servlet-class>
        org.apache.axis.transport.http.AxisServlet
      </servlet-class>
   </servlet>-->


   <servlet>
      <servlet-name>ControllerServlet</servlet-name>
      <servlet-class>com.crux.common.controller.ControllerServlet</servlet-class>
      <!--<servlet-class>com.crux.web.controller.ControllerServlet</servlet-class>-->
      <load-on-startup>1</load-on-startup>
   </servlet>

   <servlet>
      <servlet-name>cruxsvr</servlet-name>
      <servlet-class>com.crux.web.controller.CruxController</servlet-class>
      <load-on-startup>1</load-on-startup>
   </servlet>

   <!--
  <servlet>
     <servlet-name>SchedulerServlet</servlet-name>
     <servlet-class>com.crux.jobs.helper.SchedulerServlet</servlet-class>
     <load-on-startup>1</load-on-startup>
    </servlet>
    -->

   <servlet>
     <servlet-name>ReportServlet</servlet-name>
     <servlet-class>com.crux.common.controller.ReportServlet</servlet-class>
     <load-on-startup>1</load-on-startup>
    </servlet>
    
    <!--
    <servlet>
    <servlet-name>jzchat</servlet-name>
  	<servlet-class>com.webfin.chat.jzchat</servlet-class>
  	<init-param>
    <param-name>config</param-name>
    <param-value>jzchat.conf</param-value>
   	</init-param>
   	<load-on-startup>1</load-on-startup>
	</servlet>
	-->

   <servlet>
     <servlet-name>FOPServlet</servlet-name>
     <servlet-class>com.crux.common.controller.FOPServlet</servlet-class>
     <load-on-startup>1</load-on-startup>
    </servlet>

   <servlet-mapping>
      <servlet-name>cruxsvr</servlet-name>
      <url-pattern>/cruxsvr</url-pattern>
   </servlet-mapping>


   <servlet-mapping>
      <servlet-name>ControllerServlet</servlet-name>
      <url-pattern>*.ctl</url-pattern>
   </servlet-mapping>

   <servlet-mapping>
      <servlet-name>ControllerServlet</servlet-name>
      <url-pattern>*.cfl</url-pattern>
   </servlet-mapping>

   <servlet-mapping>
      <servlet-name>ControllerServlet</servlet-name>
      <url-pattern>*.fpc</url-pattern>
   </servlet-mapping>

  <!-- <servlet-mapping>
    <servlet-name>AxisServlet</servlet-name>
    <url-pattern>*.jws</url-pattern>
  </servlet-mapping>-->


   <servlet-mapping>
      <servlet-name>ReportServlet</servlet-name>
      <url-pattern>*.rpt</url-pattern>
   </servlet-mapping>

   <servlet-mapping>
      <servlet-name>FOPServlet</servlet-name>
      <url-pattern>*.fop</url-pattern>
   </servlet-mapping>

   <!--=============== Controller Servlet ==========================================-->

   <session-config>
      <session-timeout>3000</session-timeout>
   </session-config>

   <welcome-file-list>
      <!--<welcome-file>main.ctl?EVENT=LOGIN_WELCOME</welcome-file>-->
      <welcome-file>/login.crux</welcome-file>
      <welcome-file>index.jsp</welcome-file>
   </welcome-file-list>
   <error-page>
      <exception-type>java.lang.Throwable</exception-type>
      <location>/err.crux</location>
   </error-page>

   <taglib>
      <taglib-uri>crux</taglib-uri>
      <taglib-location>crux.tld</taglib-location>
   </taglib>
</web-app>
